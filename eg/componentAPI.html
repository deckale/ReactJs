<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="../js/reactjs/react.min.js"></script>
		<script src="../js/reactjs/react-dom.min.js"></script>
		<script src="../js/browser.min.js"></script>
	</head>
	<body>
		<!--setState(object nextState[,function callback])-->
		<!--
			nextState 将要设置的新状态,该状态会和打钱的state合并
			callback: 回调函数,该函数会在setState设置成功,且组件重新选渲染后调用.
			合并nextState和当前state,并重新渲染组件,setState是React事件处理函数中和请求回调函数中出发UI更新的主要方法
			
			关于setState 不能再组件内部通过this.state修改状态,因为该状态会在调用setState()并不一定是同步的,为了提升性能React会批量执行state和DOM渲染
			setState()总是会出发一次组件重绘,除非在shouldComponentUpdate()中实现了一些条件渲染逻辑
		-->
		<script type="text/babel">
			var Counter = React.createClass({
				getInitialState:function()
				{
					return {clickCount:0};
				},
				handleClick:function()
				{
					this.setState(function(state){
						return {clickCount:state.clickCount+1};
					});
				},
				render:function(){
					return (
						<h2 onClick={this.handleClick}>点我!点击次数为:{this.state.clickCount}</h2>
					);
				}
			});
			
			ReactDOM.render(
				<Counter />,document.getElementById("message")
			);
		</script>
	</body>
</html>
